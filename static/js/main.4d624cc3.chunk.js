(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports={container:"Dashboard_container__1TeWx"}},23:function(e,t,n){e.exports={graphContainer:"LineGraph_graphContainer__3LzMf"}},30:function(e,t,n){},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),r=n.n(o),c=n(3),i=n.n(c),s=(n(30),n(31),n(4)),l=n(5),d=n(7),u=n(6),p=n(9),h=n(24),j=n(10),b=n(12);function m(){var e=Object(p.a)(["\n  position: relative;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 20px;\n  text-align: center;\n"]);return m=function(){return e},e}var g=j.a.div(m()),f=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onPlaceChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props,t=e.map,n=e.addplace,o=a.autoComplete.getPlace();o.geometry&&(o.geometry.viewport?t.fitBounds(o.geometry.viewport):(t.setCenter(o.geometry.location),t.setZoom(17)),n(o),a.searchInput.blur())},a.clearSearchBox=a.clearSearchBox.bind(Object(b.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.map,n=e.mapApi,a={types:["address"]};this.autoComplete=new n.places.Autocomplete(this.searchInput,a),this.autoComplete.addListener("place_changed",this.onPlaceChanged),this.autoComplete.bindTo("bounds",t)}},{key:"componentWillUnmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.mapApi;t.event.clearInstanceListeners(this.searchInput)}},{key:"clearSearchBox",value:function(){this.searchInput.value=""}},{key:"render",value:function(){var e=this;return Object(a.jsx)(g,{children:Object(a.jsx)("input",{className:"search-input",ref:function(t){e.searchInput=t},type:"text",onFocus:this.clearSearchBox,placeholder:"Enter a location"})})}}]),n}(o.Component);function v(){var e=Object(p.a)(["\n  position: absolute;\n  width: 38px;\n  height: 37px;\n  background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n  background-size: contain;\n  background-repeat: no-repeat;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  cursor: grab;\n"]);return v=function(){return e},e}var O=j.a.div(v()),x=function(e){var t=e.text,n=e.onClick;return Object(a.jsx)(O,{alt:t,onClick:n})};x.defaultProps={onClick:null};var y=x;function C(){var e=Object(p.a)(["\n  width: 100%;\n  height: 100%;\n"]);return C=function(){return e},e}var k,w=j.a.main(C()),A=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={mapApiLoaded:!1,mapInstance:null,mapApi:null,geoCoder:null,places:[],center:[],zoom:9,address:"",draggable:!0,lat:null,lng:null},e.onMarkerInteraction=function(t,n,a){e.setState({draggable:!1,lat:a.lat,lng:a.lng})},e.onMarkerInteractionMouseUp=function(t,n,a){e.setState({draggable:!0}),e._generateAddress()},e._onChange=function(t){var n=t.center,a=t.zoom;e.setState({center:n,zoom:a})},e._onClick=function(t){e.setState({lat:t.lat,lng:t.lng})},e.apiHasLoaded=function(t,n){e.setState({mapApiLoaded:!0,mapInstance:t,mapApi:n}),e._generateAddress()},e.addPlace=function(t){e.setState({places:[t],lat:t.geometry.location.lat(),lng:t.geometry.location.lng()}),e._generateAddress()},e}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.setCurrentLocation()}},{key:"_generateAddress",value:function(){var e=this;(new this.state.mapApi.Geocoder).geocode({location:{lat:this.state.lat,lng:this.state.lng}},(function(t,n){console.log(t),console.log(n),"OK"===n?t[0]?(e.zoom=12,e.setState({address:t[0].formatted_address})):window.alert("No results found"):window.alert("Geocoder failed due to: "+n)}))}},{key:"setCurrentLocation",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){e.setState({center:[t.coords.latitude,t.coords.longitude],lat:t.coords.latitude,lng:t.coords.longitude})}))}},{key:"render",value:function(){var e=this,t=this.state,n=(t.places,t.mapApiLoaded),o=t.mapInstance,r=t.mapApi;return Object(a.jsxs)(w,{children:[n&&Object(a.jsx)("div",{children:Object(a.jsx)(f,{map:o,mapApi:r,addplace:this.addPlace})}),Object(a.jsx)(h.a,{center:this.state.center,zoom:this.state.zoom,draggable:this.state.draggable,onChange:this._onChange,onChildMouseDown:this.onMarkerInteraction,onChildMouseUp:this.onMarkerInteractionMouseUp,onChildMouseMove:this.onMarkerInteraction,onChildClick:function(){return console.log("child click")},onClick:this._onClick,bootstrapURLKeys:{key:"AIzaSyBbgQMlI3WkrNhWsJkgm9BSBylz2e9XyH4",libraries:["places","geometry"]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var n=t.map,a=t.maps;return e.apiHasLoaded(n,a)},children:Object(a.jsx)(y,{text:this.state.address,lat:this.state.lat,lng:this.state.lng})}),Object(a.jsxs)("div",{className:"info-wrapper",children:[Object(a.jsxs)("div",{className:"map-details",children:["Latitude: ",Object(a.jsx)("span",{children:this.state.lat}),", Longitude:"," ",Object(a.jsx)("span",{children:this.state.lng})]}),Object(a.jsxs)("div",{className:"map-details",children:["Zoom: ",Object(a.jsx)("span",{children:this.state.zoom})]}),Object(a.jsxs)("div",{className:"map-details",children:["Address: ",Object(a.jsx)("span",{children:this.state.address})]})]})]})}}]),n}(o.Component),S=n(11),I=function(e){return Object(a.jsx)("div",{children:200===e.responseObj.cod?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:e.responseObj.name})}),Object(a.jsxs)("p",{children:["It is currently ",Math.round(e.responseObj.main.temp)," degrees out with ",e.responseObj.weather[0].description]})]}):null})},L=n(21),M=n.n(L),_=n(22),B=n.n(_),z=n(23),N=n.n(z),D=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).chartRef=r.a.createRef(),e.buildChart=function(){var t=e.chartRef.current.getContext("2d"),n=document.getElementById("myChart").getContext("2d").createLinearGradient(500,0,100,0);n.addColorStop(0,"rgba(128, 182, 244, 0.6"),n.addColorStop(1,"rgba(244, 144, 128, 0.6"),"undefined"!==typeof k&&k.destroy(),k=new B.a(t,{type:"line",data:{labels:F,datasets:[{label:"temperature",data:P,fill:!0,borderColor:"#98B9AB",backgroundColor:n}]},options:{responsive:!0,maintainAspectRatio:!1}}),console.log(P)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.buildChart()}},{key:"componentDidUpdate",value:function(){this.buildChart()}},{key:"render",value:function(){return Object(a.jsx)("div",{className:N.a.graphContainer,children:Object(a.jsx)("canvas",{id:"myChart",ref:this.chartRef})})}}]),n}(o.Component),G=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={data:P,labels:F},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.data,n=e.labels;return Object(a.jsxs)("div",{className:M.a.container,children:[Object(a.jsx)("header",{children:Object(a.jsx)("h1",{children:"Max Temperature Dashboard"})}),Object(a.jsx)(D,{data:t,labels:n})]})}}]),n}(o.Component),P=[],F=["day 1","day 2","day 3","day 4","day 5","day 6","day 7"],T=function(){var e=Object(o.useState)(""),t=Object(S.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)("imperial"),i=Object(S.a)(c,2),s=i[0],l=i[1],d=Object(o.useState)(""),u=Object(S.a)(d,2),p=u[0],h=u[1],j=Object(o.useState)(""),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(o.useState)({}),v=Object(S.a)(f,2),O=v[0],x=v[1],y=encodeURIComponent(n);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Find Weather Conditions"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://community-open-weather-map.p.rapidapi.com/weather?units=".concat(s,"&q=").concat(y,"&lat=").concat(p,"&lon=").concat(m),{method:"GET",headers:{"x-rapidapi-key":"37e6f098d2mshdce7d369004075dp158e7djsn8d58d22f8a6f","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){x(e)})).catch((function(e){console.error(e)})),function(e){e.preventDefault(),fetch("https://community-open-weather-map.p.rapidapi.com/forecast/daily?q=".concat(y,"&lat=").concat(p,"&lon=").concat(m,"&units=").concat(s),{method:"GET",headers:{"x-rapidapi-key":"37e6f098d2mshdce7d369004075dp158e7djsn8d58d22f8a6f","x-rapidapi-host":"community-open-weather-map.p.rapidapi.com"}}).then((function(e){return e.json()})).then((function(e){for(var t in P&&(P=[]),console.log(e),e.list)P.push(e.list[t].temp.max);console.log(P)})).catch((function(e){console.error(e)}))}(e)},children:[Object(a.jsx)("input",{type:"text",id:"city",placeholder:"Enter City",maxLength:"50",value:n,onChange:function(e){return r(e.target.value)}}),Object(a.jsx)("label",{for:"city"}),Object(a.jsx)("input",{type:"text",id:"lat",placeholder:"Latitude",maxLength:"50",value:p,onChange:function(e){return h(e.target.value)}}),Object(a.jsx)("label",{for:"lat"}),Object(a.jsx)("input",{type:"text",id:"lon",placeholder:"Longitude",maxLength:"50",value:m,onChange:function(e){return g(e.target.value)}}),Object(a.jsx)("label",{for:"lon"}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"radio",name:"units",checked:"imperial"===s,value:"imperial",onChange:function(e){return l(e.target.value)}}),"Fahrenheit"]}),Object(a.jsxs)("label",{children:[Object(a.jsx)("input",{type:"radio",name:"units",checked:"metric"===s,value:"metric",onChange:function(e){return l(e.target.value)}}),"Celcius"]}),Object(a.jsx)("button",{type:"submit",children:"Get Forecast"})]}),Object(a.jsx)(I,{responseObj:O}),Object(a.jsx)(G,{data:P,labels:F})]})};var U=function(){return Object(a.jsxs)("div",{className:"main-wrapper",children:[Object(a.jsx)(T,{}),Object(a.jsx)(A,{})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(U,{})}),document.getElementById("root")),R()}},[[38,1,2]]]);
//# sourceMappingURL=main.4d624cc3.chunk.js.map